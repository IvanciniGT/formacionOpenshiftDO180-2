

# Namespace

---
# ConfigMap
---
# Secret

---
# PVC Mariadb
---
# PV MariaDB # TODO: Cuando tengamos un provisionador dinamico, quitaremos la pv

---
# PVC Wordpress
---
# PV Wordpress # TODO: Cuando tengamos un provisionador dinamico, quitaremos la pv
---
# Deployment: Apache + php + wordpress
wordpress:6.8-php8.1-apache
        4 variables de entono para configuración de BBDD
        + volumen /var/www/html
    vvv
---
# Deployment / Statefulset
mariadb:12.0
    + variables de entorno (usuario, contraseña..)
    + volumen de almacenamiento persistenrte /var/lib/mysql
---    
# Service Mariadb
---

# Service wordpress (nodeport) ---> ClusterIP
---
# TODO: Ingress (cuando tengamos un ingress Controller)
---
# TODO: Proteger la BBDD de comunicaciones no autorizadas ... mediante reglas de firewall.
# Solo el wordpress puede conectar a la BBDD
# NetworkPolicy
---
# TODO: HPA: Horizontal pod autoscaler en base a uso de cpu.
# Me habéis visto montar algún tipo de sistema recolector de métricas en el cluster? NO
# Cuando montemos en el cluster algo que sea capaz de recopilar métricas, podremos montar el hpa.